---
layout: post
title: "JS ìƒì†ê³¼ `New` í‚¤ì›Œë“œì— ëŒ€í•œ ì´í•´"
description: "Newì™€ ìƒì†ì— ëŒ€í•œ ì§ˆë¬¸ê³¼ ë‹µ"
tags: [js, inheritances]
---

## ğŸ™‹ ì§ˆë¬¸ ì½”ë“œ

**Run.js**

{% highlight JavaScript %}
amy = new Car(1);
ben = new van(1);
amy.move();
ben.move();

{% endhighlight %}

**Definition.js**

{% highlight JavaScript %}
var Car = function (loc) {
	this.loc = loc;
};
Car.prototype.move = function(){
	this.loc++;
};

var Van = function(loc){
	Car.call(this,loc);
};

{% endhighlight %}


---

## ğŸ™‹ ì§ˆë¬¸

1. ë‘ ë²ˆì§¸ ì½”ë“œë¸”ëŸ­ì—ì„œ ì •ì˜ëœ `Van` constructorì—ì„œ Return ë˜ëŠ” ê²ƒì´ `Car.call` ì˜ Return ê°’ì¸ê°€ìš”?
1. ê·¸ë¦¬ê³  `ben.move` ê°€ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ë©´ ë˜ëŠ”ë°ìš”, ì´ ì½”ë“œëŠ” Best optionì´ ì•„ë‹ˆë¼ê³  í•©ë‹ˆë‹¤. ì´ ì½”ë“œê°€ ì¢‹ì§€ ì•Šì€ ì´ìœ ê°€ ë¬´ì—‡ì¸ê°€ìš”?

{% highlight JavaScript %}
Van.prototype.__proto__ = Car.prototype;

{% endhighlight %}


---

# ë‹µ

1.  `Car.call` ì˜ Return ê°’ì´ ì•„ë‹ˆë‹¤.
	- new í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°,
		- í•¨ìˆ˜ì˜ prototype ì†ì„±ì´ bind ëœ _proto_ ì†ì„±
		- í•¨ìˆ˜ ìì²´ê°€ bind ëœ Constructor ì†ì„±ì„ ê°€ì§„ this ê°’
1. ì¢‹ì§€ ì•Šì€ ì½”ë“œë‹¤.
	- " `[[Prototype]] (__proto__)` ì†ì„±ì˜ ë³€ê²½ì€ ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ìµœì í™” ë°©ì‹ì— ì˜í•´ ë§¤ìš° ëŠë¦° ë°©ì‹" (Facebookì˜ ë°•ì² í˜„ ë‹˜ ë‹µë³€)
	- " `__proto__` ëŠ” Webkit ê¸°ë°˜ ë¸Œë¼ìš°ì €ì—ì„œ ì§„ì§œ prototypeì„ ê°€ë¦¬í‚¤ëŠ” í‚¤ì›Œë“œì…ë‹ˆë‹¤" (Okky, ë‹¨ì„¤ ë‹˜ ë‹µë³€) ì¦‰ **Webkit ê¸°ë°˜ì´ ì•„ë‹Œ ë¸Œë¼ìš°ì €ì—ì„œë„ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.**

---

# ìƒì†ì„ ì •ì˜í•˜ëŠ” ë°©ë²•

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í´ë˜ìŠ¤ë¼ëŠ” ê°œë…ì´ ì—†ê³ , ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬(cloning) ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í”„ë¡œí† íƒ€ì… ê¸°ë°˜ì˜ ì–¸ì–´ë‹¤. (Nextree, 2014).

2ë²ˆì˜ ì§ˆë¬¸ì—ì„œ ì˜ëª»ëœ ìƒì†ì„ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ ë°©ë²•ë“¤ì´ ìˆë‹¤. (Nextree í¬ìŠ¤íŒ… ì°¸ì¡°)

## 1.Prototype ì„ ê³µìœ í•˜ëŠ” ë°©ë²•

{% highlight JavaScript %}
var Van.prototype = Car.prototype

Van.prototype.something = function(){
};

{% endhighlight %}

ì´ë ‡ê²Œ Prototype ì„ ì •ì˜í•˜ëŠ” ê²½ìš° Car ê³¼ vanì€ ê°™ì€ Prototypeì„ ê³µìœ í•˜ê²Œëœë‹¤. ì¦‰ ì•„ë˜ì™€ ê°™ì´ `Van.prototype` ì— `.something` ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš° ëª¨ë“  Car instance ì—ë„ ê°™ì€ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ëª©ì ì— ë¶€í•©í•˜ì§€ ì•ŠëŠ”ë‹¤. (Okky, ë‹¨ì„¤ ë‹˜ ë‹µë³€)

## 2.new í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•

{% highlight JavaScript %}
Van.prototype = new Car();
ben = new Van(3);

{% endhighlight %}


Prototypeì„ ìœ„ì™€ ê°™ì´ ì •ì˜ í•˜ëŠ” ê²½ìš°, Car ì„ ìƒì„±í•  ë•Œ í•„ìš”í•œ `loc` íŒŒë¼ë¯¸í„°ê°€ `Van` ì˜ ìƒì„±ê³¼ì •ì— ì ìš©ë  ìˆ˜ ì—†ë‹¤. **ë”°ë¼ì„œ Parameter ê°€ í•„ìš”í•œ ê°ì²´ ìƒì„±ì— ì í•©í•˜ì§€ ì•Šë‹¤.**

## 3.`apply` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ìƒì •ìë¥¼ ë¹Œë ¤ì“°ëŠ” ë²•.

{% highlight JavaScript %}
var Van = function Van(loc){
 Car.apply(this, arguments);
};

{% endhighlight %}

ìœ„ì™€ ê°™ì´ `apply` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ `Van` ì„ ì •ì˜í•˜ëŠ” ê²½ìš°, Vanì˜ instance ben ì€, 2ë²ˆì˜ ê²½ìš°ì™€ ë‹¬ë¦¬ `loc` ê°’ì€ ì „ë‹¬ì´ ë˜ì§€ë§Œ `.move` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì´ìœ ëŠ” Car.prototype ê³¼ì˜ ì—°ê²°ì´ ì´ë¤„ì§€ì§€ ì•Šê¸° ë•Œë¬¸.

## 4.Prototypal í•œ ë°©ì‹ ğŸ’¯

ê°ì²´ ìƒì„±ê³¼ ë™ì‹œì— í”„ë¡œí† íƒ€ì…ê°ì²´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

- ì²« ë²ˆì§¸ ë³€ìˆ˜ëŠ” ë¶€ëª¨ê°ì²´ë¡œ ì‚¬ìš©í•  ê°ì²´( `Car.prototype` )
- ë‘ ë²ˆì¨° ë³€ìˆ˜ëŠ” ìƒì†ë  ê°œì²´ì˜ ì†ì„±ì— ì¶”ê°€


{% highlight JavaScript %}
var Van = function (loc) {
 Car.call(this,loc);
};

Van.prototype= Object.create(Car.prototype);
// Object.create


{% endhighlight %}



---




## (ì°¸ê³ ) #2 ì™€ ê´€ë ¨í•˜ì—¬ Return ì— ëŒ€í•œ ì´í•´

 `new` í‚¤ì›Œë“œì™€ í•¨ê»˜ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ, ëª…ì‹œì  Return íƒ€ì…(Return ê°’ì´ ì •ì˜ëœ ê²½ìš°)ì— ë”°ë¼ Return ë˜ëŠ” ê°’ì´ ë‹¬ë¼ì§„ë‹¤. (Okkyì˜ RIchiKing ë‹˜ ë‹µë³€)

{% highlight JavaScript %}

var Const1 = function(){
	this.age = 15;
	return {};
}

var obj1 = new Const1();
console.log(obj1); // {}
// Const1ì˜ ëª…ì‹œì  Return ê°’ì€ {}, ì¦‰ ì°¸ì¡°(Reference) íƒ€ì…ì´ë‹¤.
// {} ê°€ Return ëœë‹¤.

{% endhighlight %}


{% highlight JavaScript %}
// Const2ì˜ ëª…ì‹œì  Return ê°’ì€ 10, ì¦‰ ê¸°ë³¸(Primitive) íƒ€ì…ì´ë‹¤.
// New ë¡œ ìƒì„±ëœ ê°ì²´(!) ê°€ Return ëœë‹¤.

var Const2 = function(){
	this.age = 15;
	return 10;
}

var obj2 = new Const2();
console.log(obj2); // {age:15}
{% endhighlight %}

 **ì§ˆë¬¸ì„ ì˜¬ë¦° ê³³**

- Okky : [https://okky.kr/article/391043](https://okky.kr/article/391043)
- FaceBook : [https://www.facebook.com/groups/webfrontend/permalink/1088795681265166/](https://www.facebook.com/groups/webfrontend/permalink/1088795681265166/)

 _References_

Nextree. 2014. "JavaScript : í”„ë¡œí† íƒ€ì…(prototype) ì´í•´". Retrieved from http://www.nextree.co.kr/p7323

LichKing, 2015. "#06. JavaScriptì˜ new ì™€ ìƒì„±ìí•¨ìˆ˜". Retrieved from http://multifrontgarden.tistory.com/69

## [â“Inheritances ê´€ë ¨ ì§ˆë¬¸ - ì „ë¬¸](https://www.notion.so/Inheritances-3d7688cc4f9341b396609bc1bec47d0c)
